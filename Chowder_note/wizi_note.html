<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>wizi</title>
    <link rel="stylesheet" href="">
</head>

<body>
    <script>
        // MVæ¨¡å¼

        // ä¸€èˆ¬æŠŠç®¡ç†ç”¨æˆ·ç•Œé¢çš„å±‚æ¬¡ç§°ä¸ºview ï¼Œåº”ç”¨ç¨‹åºçš„æ•°æ®ç§°ä¸ºmodelï¼Œmodelæä¾›æ•°æ®æ“ä½œçš„æ¥å£ï¼Œä¾›
        // viewå±‚æ“ä½œã€‚

        // æœ‰äº†viewå’Œmodel å¦‚ä½•ä¿è¯åŒæ­¥æ›´æ–°å‘¢ 
        // åé¢åœ¨MVæ¨¡å¼ä¸‹åˆ†ç¦»å‡ºäº†controllerå±‚ï¼Œå®ƒçš„èŒè´£æ˜¯è´Ÿè´£modelå’Œviewä¹‹é—´çš„åä½œï¼ˆè·¯ç”±ï¼Œè¾“å…¥é¢„å¤„ç†ï¼‰

        // Controllerå’ŒViewéƒ½ä¾èµ–Modelå±‚ï¼ŒControllerå’ŒViewå¯ä»¥äº’ç›¸ä¾èµ–ã€‚
        // åœ¨ä¸€äº›ç½‘ä¸Šçš„èµ„æ–™Controllerå’ŒViewä¹‹é—´çš„ä¾èµ–å…³ç³»å¯èƒ½ä¸ä¸€æ ·ï¼Œæœ‰äº›æ˜¯å•å‘ä¾èµ–ï¼Œæœ‰äº›æ˜¯åŒå‘ä¾èµ–ï¼Œè¿™ä¸ªå…¶å®å…³ç³»ä¸å¤§ï¼Œ
        // åé¢ä¼šçœ‹åˆ°å®ƒä»¬çš„ä¾èµ–å…³ç³»éƒ½æ˜¯ä¸ºäº†æŠŠå¤„ç†ç”¨æˆ·è¡Œä¸ºè§¦å‘çš„äº‹ä»¶å¤„ç†æƒäº¤ç»™Controllerã€‚

        // pub/sub å‘å¸ƒ/è®¢é˜…

        // äºŒå‰æ ‘ï¼šä¸€ä¸ªnodeèŠ‚ç‚¹ç”±dataï¼Œleftï¼Œrightæ„æˆï¼Œ
        // äºŒå‰æ ‘æœ‰å¾ˆå¤šç§ï¼Œä¸€èˆ¬æ¥è¯´äºŒå‰æœç´¢æ ‘æ¯”è¾ƒå¸¸ç”¨ï¼Œç‰¹æ€§æ˜¯ç›¸å¯¹æœ¬èŠ‚ç‚¹è¾ƒå°çš„å€¼æ”¾åœ¨å·¦è¾¹ï¼Œè¾ƒå¤§çš„å€¼æ”¾åœ¨å³è¾¹,è¿™ç§æ–¹å¼æŸ¥è¯¢æ•ˆç‡ä¼šæ›´é«˜

        function Node(data, left, right) {
            this.data = data;
            this.left = left;
            this.right = right;
        }

        function BST() {
            this.root = null;
            this.insert = insert;
            this.remove = remove;
            this.find = find;
            // å…ˆåº
            this.preOrder = preOrder;
            // ä¸­åº
            this.inOrder = inOrder;
            // ååº
            this.postOrder = postOrder;
            // å¹¿åº¦
            this.wiOrder = wiOrder;
        }

        function insert(data) {
            var node = new Node(data, null, null);
            if (this.root === null) {
                this.root = node;
            } else {
                var current = this.root;
                while (true) {
                    // å°äºåŸæ¥å€¼ï¼Œæ”¾åˆ°å·¦è¾¹
                    if (current.data > data) {
                        if (current.left === null) {
                            current.left = node;
                            break;
                        }
                        current = current.left;
                    } else {
                        if (current.right === null) {
                            current.right = node;
                            break;
                        }
                        current = current.right;
                    }
                }
            }
        }

        var bst = new BST();

        bst.insert(5);
        bst.insert(3);
        bst.insert(7);
        bst.insert(2);
        bst.insert(4);
        bst.insert(6);
        bst.insert(9);
        //       5
        //     3   7
        //   2  4 6  9

        console.log(bst);
        // äºŒå‰æ ‘ä¼˜ç‚¹æ˜¯æŸ¥æ‰¾æœ€å¤§æ•°å’Œæœ€å°æ•°å¿«ï¼Œåˆ†åˆ«ä½äºæœ€å³ç«¯å’Œæœ€å·¦ç«¯,æŸ¥è¯¢æŒ‡å®šå€¼å¦‚ä¸‹ï¼Œä»æ ‘å¤´å¼€å§‹æŸ¥åˆ°å°¾ï¼Ÿ
        function find(data) {
            var current = this.root;
            while (true) {
                if (data === current.data) {
                    return current;
                }
                current = data < current.data ? current.left : current.right;
                if (current === null) {
                    return null;
                }
            }
        }
        // äºŒå‰æ ‘åˆ é™¤åˆ†ä¸¤ç§æƒ…å†µï¼Œä¸€ç§æ˜¯åˆ é™¤çš„èŠ‚ç‚¹åçš„æ‰€æœ‰å­èŠ‚ç‚¹éƒ½ä¸è¦äº†ã€‚å¦ä¸€ç§æ˜¯ä»éœ€è¦ï¼Œç¬¬ä¸€ç§é€’å½’å¤„ç†ï¼Œç¬¬äºŒç§çš„è¯ï¼Œå¯ä»¥è®°å½•ä¸‹åˆ é™¤çš„å­èŠ‚ç‚¹ä¿¡æ¯ï¼Œç„¶åå†é‡æ–°æ’å…¥åˆ°æ ‘ä¸­

        // ä»¥ä¸‹æ˜¯ç¬¬ä¸€ç§æƒ…å†µçš„ç¤ºä¾‹
        function remove(data) {
            this.root = removeNode(this.root, data);
        }

        function removeNode(node, data) {
            if (node === null) {
                return null;
            }
            if (data === node.data) {
                if (node.left === null && node.right === null) {
                    return null;
                }
                if (node.left === null) {
                    return node.right;
                }
                if (node.right === null) {
                    return node.left;
                }
            } else if (data < node.data) {
                node.left = removeNode(node.left, data);
                return node;
            } else {
                node.right = removeNode(node.right, data);
                return node;
            }
        }
        // æ·±åº¦ä¸ºhçš„ğŸŒ²ï¼Œæœ€å¤šæœ‰2^h-1ä¸ªèŠ‚ç‚¹ï¼Œå¦‚æœéƒ½åŒ…å«åˆ™æ˜¯æ»¡æ ‘ï¼Œå¦‚æœåªæ˜¯æœ€åº•å±‚çš„å·¦ä¾§æ˜¯æ»¡çš„ï¼Œé‚£ä¹ˆæ˜¯å®Œå…¨äºŒå‰æ ‘
        // å¹³è¡¡äºŒå‰æ ‘ï¼šçˆ¶èŠ‚ç‚¹çš„å·¦å­æ ‘å’Œå³å­æ ‘çš„æ·±åº¦ç›¸å·®ä¸èƒ½å¤§äº1


        // äºŒå‰æ ‘éå†åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š1.æ·±åº¦éå†ï¼Œ2.å¹¿åº¦éå†ï¼Œæ·±åº¦åŒ…å«äº†å‰åºï¼Œä¸­åºï¼Œååºéå†ä¸‰ç§
        // å‰åºéå†ï¼šè®¿é—®æ ¹â€“>éå†å·¦å­æ ‘â€“>éå†å³å­æ ‘;
        // ä¸­åºéå†ï¼šéå†å·¦å­æ ‘â€“>è®¿é—®æ ¹â€“>éå†å³å­æ ‘;
        // ååºéå†ï¼šéå†å·¦å­æ ‘â€“>éå†å³å­æ ‘â€“>è®¿é—®æ ¹;
        // å¹¿åº¦éå†ï¼šæŒ‰ç…§å±‚æ¬¡ä¸€å±‚å±‚éå†;
        //         5
        //       3   7
        //     2   4 
        function preOrder(node, arr) {
            var current = node || this.root,
                arr = arr || [];
            if (!(current === null)) {
                arr.push(current.data);
                if (current.left !== null) {
                    preOrder(current.left, arr);
                }
                if (current.right !== null) {
                    preOrder(current.right, arr);
                }
            }
            return arr;
        }

        function inOrder(node, arr) {
            var current = node || this.root,
                arr = arr || [];
            if (!(current === null)) {
                if (current.left !== null) {
                    inOrder(current.left, arr);
                }
                arr.push(current.data);
                if (current.right !== null) {
                    inOrder(current.right, arr);
                }
            }
            return arr;
        }

        function postOrder(node, arr) {
            var current = node || this.root,
                arr = arr || [];
            if (!(current === null)) {
                if (current.left !== null) {
                    postOrder(current.left, arr);
                }
                if (current.right !== null) {
                    postOrder(current.right, arr);
                }
                arr.push(current.data);
            }
            return arr;
        }

        function wiOrder() {

        }

        var array1 = bst.preOrder();
        var array2 = bst.inOrder();
        var array3 = bst.postOrder();
        var array4 = bst.wiOrder();

        console.log(array1);
        console.log(array2);
        console.log(array3);

        //   å›¾
        //  åˆ†ä¸ºé¡¶ç‚¹å’Œè¾¹ï¼Œå›¾çš„ä¿¡æ¯ä¸»è¦éƒ½åœ¨è¾¹ä¸Šï¼Œç”¨äºŒå‰æ ‘è¡¨ç¤ºæ–¹å¼æ˜¾ç„¶ä¸åˆç†ï¼Œè¿™é‡Œæˆ‘ä»¬å°†è¡¨ç¤ºå›¾è¾¹çš„æ–¹æ³•ç§°ä¸ºé‚»æ¥è¡¨æˆ–é‚»æ¥æ•°ç»„ï¼Œ

        // https://github.com/wengjq/Blog/issues/9
        function Graph() {
            var vertices = []; //å­˜å‚¨å›¾ä¸­æ‰€æœ‰çš„é¡¶ç‚¹åå­—
            var adjList = new Map(); //ç”¨ä¹‹å‰çš„ä¸€ä¸ªå­—å…¸æ¥å­˜å‚¨é‚»æ¥è¡¨
            this.addVertex = function (v) { //æ·»åŠ é¡¶ç‚¹
                vertices.push(v);
                adjList.set(v, []); //é¡¶ç‚¹ä¸ºé”®ï¼Œå­—å…¸å€¼ä¸ºç©ºæ•°ç»„ è¡¨ç¤ºå…¶ä»–é¡¶ç‚¹ä¹‹é—´çš„å…³ç³»ï¼ˆè¾¹ï¼‰
            };
            this.addEdge = function (v, w) { //æ·»åŠ è¾¹
                adjList.get(v).push(w); //åŸºäºæœ‰å‘å›¾
                // adjList.get(w).push(v); //åŸºäºæ— å‘å›¾
            };
            this.toString = function () {
                var s = '';
                for (var i = 0; i < vertices.length; i++) {
                    s += vertices[i] + ' -> ';
                    var neighbors = adjList.get(vertices[i]);
                    for (var j = 0; j < neighbors.length; j++) {
                        s += neighbors[j] + ' ';
                    }
                    s += '\n';
                }
                return s;
            };
            // é»˜è®¤æ˜¯æ‰€æœ‰ç‚¹éƒ½æœªéå†çš„å¡«å……ç™½è‰²
            var initializeColor = function () {
                var color = [];
                for (var i = 0; i < vertices.length; i++) {
                    color[vertices[i]] = 'white';
                }
                return color;
            };
            this.bfs = function (v, callback) {
                var color = initializeColor(),
                    queue = []; //åˆ›å»ºä¸€ä¸ªé˜Ÿåˆ—
                queue.push(v); //å…¥é˜Ÿåˆ—
                while (queue.length) {
                    var u = queue.shift(), //å‡ºé˜Ÿåˆ—
                        neighbors = adjList.get(u); //é‚»æ¥è¡¨
                    color[u] = 'grey'; //å‘ç°äº†ä½†è¿˜æœªå®Œæˆå¯¹å…¶çš„æœç´ 
                    for (var i = 0; i < neighbors.length; i++) {
                        var w = neighbors[i]; //é¡¶ç‚¹å
                        if (color[w] === 'white') {
                            color[w] = 'grey'; //å‘ç°äº†å®ƒ
                            queue.push(w); //å…¥é˜Ÿåˆ—å¾ªç¯
                        }
                    }
                    color[u] = 'black'; //å·²æœç´¢è¿‡
                    if (callback) {
                        callback(u);
                    }
                }
            }

            this.dfs = function (callback) {
                var color = initializeColor(); //å‰é¢çš„é¢œè‰²æ•°ç»„
                for (var i = 0; i < vertices.length; i++) {
                    if (color[vertices[i]] === 'white') {
                        dfsVisit(vertices[i], color, callback); //é€’å½’è°ƒç”¨æœªè¢«è®¿é—®è¿‡çš„é¡¶ç‚¹
                    }
                }
            };
            var dfsVisit = function (u, color, callback) {
                color[u] = 'grey';
                if (callback) {
                    callback(u);
                }
                var neighbors = adjList.get(u); //é‚»æ¥è¡¨
                for (var i = 0; i < neighbors.length; i++) {
                    var w = neighbors[i];
                    if (color[w] === 'white') {
                        dfsVisit(w, color, callback); //æ·»åŠ é¡¶ç‚¹wå…¥æ ˆ
                    }
                }
                color[u] = 'black';
            };
        }

        // ç”¨JavaScriptæ¨¡æ‹Ÿæ ˆçš„è¯ï¼Œpushå’Œpopå°±å¯ä»¥äº†ï¼Œæ¨¡æ‹Ÿé˜Ÿåˆ—ï¼Œpush ,shift


        //æµ‹è¯•
        var graph = new Graph();
        var myVertices = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I'];

        for (var i = 0; i < myVertices.length; i++) {
            graph.addVertex(myVertices[i]);
        }

        graph.addEdge('A', 'B');
        graph.addEdge('A', 'C');
        graph.addEdge('A', 'D');
        graph.addEdge('C', 'D');
        graph.addEdge('C', 'G');
        graph.addEdge('D', 'G');
        graph.addEdge('D', 'H');
        graph.addEdge('B', 'E');
        graph.addEdge('B', 'F');
        graph.addEdge('E', 'I');

        console.log(graph.toString());

        function printNode(value) {
            console.log('Visited vertex: ' + value);
        }
        graph.bfs(myVertices[0], printNode)
        console.log(' ')
        graph.dfs(printNode);

        // å›¾çš„éå†
        // è¾¹çš„çŠ¶æ€åˆ†ä¸º3ç§ï¼š1.é¡¶ç‚¹è¿˜æ²¡æœ‰å®Œå…¨è¢«è®¿é—®è¿‡ï¼Œ2.é¡¶ç‚¹è¢«è®¿é—®è¿‡ï¼Œä½†æ˜¯æ²¡æœ‰å®Œå…¨æ¢ç´¢ï¼Œ3.é¡¶ç‚¹è¢«è®¿é—®è¿‡ä¸”å®Œå…¨æ¢ç´¢ã€‚å¯ä»¥åˆ†ä¸º3ç§çŠ¶æ€

        // å¹¿åº¦ä¼˜å…ˆæœç´¢BFS
    </script>
</body>

</html>